<!DOCTYPE html>
<html>
<head>	
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='nouislider.min.css')}}" />
	<script type="text/javascript" src="{{url_for('static',filename='nouislider.min.js')}}"></script>
	<style>
	html, body {margin: 0; height: 100%; overflow: hidden}
        #rangeA {
		height: 300px;
		width: 15px;
		margin-left: 30px;
		margin-right: 30px;
		margin-top: 50px;
		float: left;
        }
	#rangeB{
		height: 300px;
		width: 15px;
		margin-left: 30px;
		margin-right: 30px;
		margin-top: 50px;
		float: right;
        }
	img{
		display: block;
		margin-left: auto;
		margin-right: auto;
		height: 100%;
		clear: none;
	}
    </style>
</head>
<body>
	<div id="rangeA" class="noUiSlider"></div>
	<div id="rangeB" class="noUiSlider"></div>
	<img src="{{url_for('video_feed')}}">
</body>
<script>
    var rangeA = document.getElementById('rangeA');

    noUiSlider.create(rangeA, {
        start: 0, // Handle start position
        step: 0.05, // Slider moves in increments of '10'
        orientation: 'vertical', // Orient the slider vertically
        range: { // Slider can select '0' to '100'
            'min': -1,
            'max': 1
        }
    });
	
	rangeA.noUiSlider.on('update', function() {
		var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
			}
		};
		xhttp.open("GET", "http://192.168.1.118:5000/set_speedA?speed=" + rangeA.noUiSlider.get(), true);
		xhttp.send();
	})

	var rangeB = document.getElementById('rangeB');

    noUiSlider.create(rangeB, {
        start: 0, // Handle start position
        step: 0.05, // Slider moves in increments of '10'
        orientation: 'vertical', // Orient the slider vertically
        range: { // Slider can select '0' to '100'
            'min': -1,
            'max': 1
        }
    });
	
	rangeB.noUiSlider.on('update', function() {
	var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
			}
		};
		xhttp.open("GET", "http://192.168.1.118:5000/set_speedB?speed=" + rangeB.noUiSlider.get(), true);
		xhttp.send();
	})
</script>
</html>
